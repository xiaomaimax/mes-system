# MES系统用户登录功能说明

## 🔐 功能概述

MES系统现已集成完整的用户登录和身份验证功能，支持多用户切换和安全退出。

## 🚀 主要功能

### 1. 登录页面
- **路径**: `/login`
- **功能**: 用户身份验证和系统访问控制
- **特色**: 
  - 美观的渐变背景设计
  - 支持手动输入和快速登录两种方式
  - 演示环境提供多个测试账号

### 2. 用户管理
- **位置**: 右上角用户头像下拉菜单
- **功能**: 
  - 显示当前用户信息
  - 切换用户功能
  - 安全退出功能

### 3. 身份验证
- **机制**: 基于localStorage的token验证
- **保护**: 未登录用户自动重定向到登录页面
- **会话**: 支持用户信息持久化存储

## 👥 测试账号

系统提供4个不同角色的测试账号：

| 用户名 | 密码 | 姓名 | 角色 | 部门 |
|--------|------|------|------|------|
| admin | admin123 | 系统管理员 | 超级管理员 | 信息部 |
| prod_manager | prod123 | 张主管 | 部门管理员 | 生产部 |
| quality_user | quality123 | 李检验员 | 普通用户 | 质量部 |
| tech_engineer | tech123 | 王工程师 | 技术管理员 | 技术部 |

## 🎯 使用流程

### 登录系统
1. 访问系统时自动跳转到登录页面
2. 选择登录方式：
   - **手动输入**: 输入用户名和密码
   - **快速登录**: 点击预设账号直接登录
3. 登录成功后跳转到系统首页

### 切换用户
1. 点击右上角用户头像
2. 选择"切换用户"
3. 确认后清除当前会话
4. 跳转到登录页面重新登录

### 退出登录
1. 点击右上角用户头像
2. 选择"退出登录"
3. 确认后安全退出系统
4. 跳转到登录页面

## 🔧 技术实现

### 前端组件
- **LoginPage.js**: 登录页面组件
- **SimpleHeader.js**: 头部用户管理组件
- **App.js**: 路由和身份验证逻辑

### 数据存储
- **userToken**: 用户认证令牌
- **userInfo**: 用户详细信息（JSON格式）

### 路由保护
- 未登录用户访问任何页面都会重定向到 `/login`
- 已登录用户可以正常访问所有功能模块
- 登录状态基于localStorage中的token验证

## 🎨 界面特色

### 登录页面设计
- **渐变背景**: 现代化的紫色渐变背景
- **双栏布局**: 左侧登录表单，右侧快速登录
- **响应式设计**: 适配不同屏幕尺寸
- **用户友好**: 清晰的操作指引和反馈

### 用户菜单设计
- **下拉菜单**: 点击用户头像展开
- **信息展示**: 显示用户姓名、部门、角色、邮箱
- **操作按钮**: 切换用户和退出登录
- **确认对话框**: 重要操作需要用户确认

## 🔒 安全特性

1. **会话管理**: 基于token的会话控制
2. **自动重定向**: 未授权访问自动跳转登录
3. **数据清理**: 退出时清除所有本地存储数据
4. **操作确认**: 敏感操作需要用户二次确认

## 📱 用户体验

1. **快速登录**: 演示环境支持一键登录
2. **状态保持**: 刷新页面保持登录状态
3. **友好提示**: 操作成功/失败都有明确反馈
4. **流畅切换**: 用户切换过程简单流畅

---

**注意**: 当前为演示版本，生产环境需要集成真实的用户认证系统和数据库。